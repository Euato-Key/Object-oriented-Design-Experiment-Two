# 物联网设备知识图谱交互管理平台 - 实验二报告

## 04. 子系统C详细设计：设备资产与配置管理

### 1. 子系统概述
子系统C是平台的设备资产管理中心，负责设备的全生命周期管理和远程控制，以及系统组件的部署与维护。
**负责人**：帅军锐
**核心职责**：
- 设备元数据管理
- 远程配置与控制
- 系统组件部署与回滚
- 批量操作支持

### 2. 静态结构设计 (类图)
本子系统核心类包括`DeploymentSystem`（部署系统）、`DeploymentPackage`（部署包）、`TargetEnvironment`（目标环境）等。

**类图说明：**
- `DeploymentSystem` 负责协调整个部署流程，包括验证、备份、安装和回滚。
- `DeploymentTask` 代表一次具体的部署任务，维护任务状态。
- `TargetEnvironment` 抽象了部署的目标服务器或环境。

![子系统C类图](../diagrams/class_diagram_C.mmd)

### 3. 动态行为设计

#### 3.1 顺序图 (Sequence Diagram) - 部署系统组件 (UC-C-006)
该顺序图描述了运维工程师发起系统组件部署的完整流程，包括成功路径和失败回滚路径。

**流程描述：**
1. 运维工程师发起部署请求。
2. 系统验证部署包和环境兼容性。
3. 执行预部署备份。
4. 安装新组件。
5. 如果安装成功，重启服务并进行健康检查。
6. 如果安装或检查失败，自动触发回滚，恢复到备份状态。

![部署系统组件顺序图](../diagrams/sequence_diagram_C_deploy.mmd)

#### 3.2 状态图 (State Diagram) - 部署任务状态
该状态图描述了部署任务从开始到完成或失败的状态流转。

**状态说明：**
- **Validating**: 正在验证包和环境。
- **BackingUp**: 正在执行备份。
- **Deploying**: 正在安装组件。
- **RollingBack**: 发生错误，正在回滚。
- **HealthChecking**: 部署后自检。

![部署任务状态图](../diagrams/state_diagram_C_deploy.mmd)

#### 3.3 活动图 (Activity Diagram) - 组件部署流程
该活动图描述了系统组件部署的步骤，包括验证、备份、安装和回滚。

![组件部署活动图](../diagrams/activity_diagram_C_deploy.mmd)

### 5. 用户接口/界面原型设计

#### 5.1 界面交互流程
设备资产管理主要涉及管理员对设备列表的维护和配置。
1. **资产查询**：管理员在“设备列表”页查看设备详情。
2. **配置下发**：在列表页选中设备，发起远程配置。
3. **组件部署**：通过向导式界面完成系统组件的升级部署。

#### 5.2 界面原型引用
- **部署向导页**：分步引导用户完成组件部署。
  - 原型文件：[ui/deploy_wizard.html](../ui/deploy_wizard.html)
- **设备列表页**：展示设备资产信息。
  - 原型文件：[ui/device_list.html](../ui/device_list.html)

---
*下一部分：子系统D详细设计*
