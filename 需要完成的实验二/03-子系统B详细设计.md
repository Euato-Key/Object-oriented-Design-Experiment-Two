# 物联网设备知识图谱交互管理平台 - 实验二报告

## 03. 子系统B详细设计：设备监控与安全运维

### 1. 子系统概述
子系统B是平台的“眼睛”和“指挥中心”，面向运维人员，提供对设备集群实时状态的感知和主动运维操作能力。
**负责人**：吴思扬
**核心职责**：
- 实时状态监控与可视化
- 告警策略管理与事件处理
- 日志聚合与审计
- 运维自动化

### 2. 静态结构设计 (类图)
本子系统核心类包括`SecurityMonitoringSystem`（监控系统）、`SecurityAlert`（安全警报）、`AlertHandler`（警报处理器）等。

**类图说明：**
- `SecurityMonitoringSystem` 持续监控设备数据流，发现异常即创建 `SecurityAlert`。
- `AlertHandler` 封装了对警报的响应逻辑，如隔离设备、记录日志。
- `ProcessingLog` 记录了警报处理的全过程，确保可追溯。

![子系统B类图](./diagrams/class_diagram_B.mmd)

### 3. 动态行为设计

#### 3.1 顺序图 (Sequence Diagram) - 处理设备安全警报 (UC-B-001)
该顺序图描述了从系统检测到异常生成警报，到管理员介入处理并关闭警报的完整流程。

**流程描述：**
1. 监控系统检测到异常，创建“待处理”警报并通知管理员。
2. 管理员查看详情，决定执行隔离操作。
3. 处理器向设备下发隔离指令。
4. 操作成功后，更新警报状态为“已处理”并记录日志。
5. 管理员最终关闭警报。

![处理设备安全警报顺序图](./diagrams/sequence_diagram_B_alert.mmd)

#### 3.2 状态图 (State Diagram) - 警报生命周期
该状态图描述了安全警报从创建到关闭的状态流转。

**状态说明：**
- **Pending**: 警报刚被创建，等待处理。
- **Investigating**: 管理员正在分析警报。
- **Processed**: 已采取措施（如隔离设备）。
- **FalsePositive**: 确认为误报。
- **Closed**: 流程结束。

![警报生命周期状态图](./diagrams/state_diagram_B_alert.mmd)

#### 3.3 活动图 (Activity Diagram) - 告警处理流程
该活动图描述了告警从产生到关闭的完整处理逻辑。

![告警处理活动图](./diagrams/activity_diagram_B_alert.mmd)

### 5. 用户接口/界面原型设计

#### 5.1 界面交互流程
设备监控与运维主要涉及运维人员对仪表盘和告警中心的交互。
1. **实时监控**：运维人员在“仪表盘”查看关键指标（KPI）和图表。
2. **告警处理**：在“告警中心”查看和处理异常事件。

#### 5.2 界面原型引用
- **告警处理详情页**：展示告警详情并提供处置操作。
  - 原型文件：[ui/alert_handle.html](../ui/alert_handle.html)
- **仪表盘**：展示系统概览和实时数据。
  - 原型文件：[ui/dashboard.html](../ui/dashboard.html)

---
*下一部分：子系统C详细设计*
